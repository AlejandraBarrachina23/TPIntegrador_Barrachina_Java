package DAO;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import Dominio.Provincia;

public class ProvinciasDAO {
	
	private static ConexionDB nuevaConexion;
	
	public static ArrayList<Provincia> ListadoProvincias() throws SQLException{
		
		ArrayList<Provincia> ListadoProvincias = new ArrayList<Provincia>();
		
		try {
			
			
		    Statement EstablecerConsulta = ((java.sql.Connection) nuevaConexion.EstablecerConexion();
		    ResultSet TablaResultados = EstablecerConsulta.executeQuery(Consulta);	
			
		    
		    
			String Consulta = "SELECT IdProvincia,Nombre FROM Provincias";
		    nuevaConexion = new ConexionDB();
		    nuevaConexion.EstablecerConexion();
		    ResultSet TablaResultados = nuevaConexion.EstablecerConsulta(Consulta);	
			
			while(TablaResultados.next()) {
				
				Provincia unaProvincia = new Provincia();
				unaProvincia.setIdProvincia(TablaResultados.getInt("idProvincia"));
				unaProvincia.setNombre(TablaResultados.getString("Nombre"));
				unaProvincia.setCodigoProvincia(TablaResultados.getString("Codigo31662"));
				ListadoProvincias.add(unaProvincia);		
			}
	
		}
		catch (Exception e) {
			
			System.out.print("No cargo"+ e);
		}
		
		return ListadoProvincias;
	}

}
