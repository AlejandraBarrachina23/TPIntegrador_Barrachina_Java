<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@page import="Dominio.Alumno"%>
    <%@page import="Dominio.Materia"%>
     <%@page import="DAO.AlumnosDAO"%>
     <%@page import="Dominio.Profesor"%>
     <%@page import="Negocio.MateriaNegocio"%>
     <%@page import="Negocio.ProfesorNegocio"%>
    <%@page import="java.util.ArrayList"%>    
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Sistema Universitarios</title>
<link href="estilos.css" type="text/css" rel=stylesheet>
<link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Francois+One&display=swap" rel="stylesheet">
<link href="jquery.dataTables.min.css" type="text/css" rel=sytlesheet>
<script src="jquery-3.4.1.min.js"></script>
<script src="jquery.dataTables.min.js"></script>

</head>
<body>

<jsp:include page="menu-administrador.html"></jsp:include>

<section class="section-principal">
	<div class="encabezados"><h3>ALTA CURSOS</h3></div>
		<form method="post" action="" id="form-cursos">
			<!---------------------------------------------------------------------------------------------------------------
					FORM IZQUIERDA - ARRIBA
			<!-------------------------------------------------------------------------------------------------------------->
			<div id="form-curso-izquierda">				
				<div class="form-cursos-encabezado-izquierda">		
					<h2>1. SELECCIONA LOS DATOS DEL CURSO</h2>	
				</div>
				
				<label>Materia</label>
					<select>
					<% MateriaNegocio unaMateriaNegocio = new MateriaNegocio();
					for(Materia unaMateria : unaMateriaNegocio.ListadoMaterias()){ %>
						<option class="opciones" value="<%=unaMateria.getIdMateria()%>"><%= unaMateria.getNombre()%></option><%}%>
					</select><br>
				<label>Semestre</label>
					<select id="cboxSemestre">
						<option>Primero</option>
						<option>Segundo</option>
					</select><br>
				<label>Año</label>
				<input type="text" id="anio-curso" name="anio"><br>
				<label>Profesor</label>
					<select>
						<% ProfesorNegocio unProfesorNegocio = new ProfesorNegocio();
						for(Profesor unProfesor : unProfesorNegocio.ListadoProfesores()){ %>
						<option class="opciones" value="<%=unProfesor.getLegajo()%>"><%= unProfesor.getNombre()+" " +unProfesor.getApellido()%></option><%}%>
					</select><br>
			<!---------------------------------------------------------------------------------------------------------------
					FORM IZQUIERDA - ABAJO
			<!-------------------------------------------------------------------------------------------------------------->
		
			<div class="form-cursos-encabezado-izquierda">		
				<h2>2. SELECCIONA LOS ALUMNOS DEL CURSO</h2>	
			</div>
				<table id="table_id" class="content-table">
					<thead>
						<tr>
							<th>Agregar</th>
							<th>Legajo</th>
							<th>Nombre</th>
							<th>Apellido</th>
						</tr>
					</thead>
					<tbody>
				<% AlumnosDAO unAlumnoDAO = new AlumnosDAO(); 
				for(Alumno unAlumno : unAlumnoDAO.ListadoAlumnos()){ %>
						<tr>  
							  <td><input type="checkbox"></input></td>
							  <td><%= unAlumno.getLegajo() %></td>
							  <td><%= unAlumno.getNombre() %></td>
							  <td><%= unAlumno.getApellido() %></td>
						</tr>
				<%}%>
					</tbody>
				</table>
				<input type="button" id="btnAgregarAlumno" class="btnFormulario" value="AGREGAR">
		</div>
			
			<!---------------------------------------------------------------------------------------------------------------
					FORM DERECHA
			<!-------------------------------------------------------------------------------------------------------------->
			
		<div id="form-curso-derecha">		
				
			<div class="form-cursos-encabezado-izquierda">		
				<h2>3. PREVISUALIZACIÓN DE LA SELECCIÓN</h2>	
			</div>
				<label>Materia: </label><br>
				<input type="text" value="Opcion 2" disabled><br>
				<label>Semestre: </label><input type="text" id="semestre-previsualizacion" readonly=true>
				<br>
				<label>Año: </label><br>
				<input type="text" id="anio-curso-autcomplete" value="2019" disabled><br>
				<label>Profesor: </label><br>
				<input type="text" value="Opcion 3" disabled><br>
				<label>Listado de Alumnos: </label><br>
				
				<ul id="listado-alumnos">
					<li>NombreAlumno1</li>
					<li>NombreAlumno2</li>
					<li>NombreAlumno4</li>
				</ul>
					
				
				<input type="button" id="btnAgregarAlumno" class="btnFormulario" value="AGREGAR">	
				<input type="button" id="btnAgregarAlumno" class="btnFormulario" value="RESETEAR">	
			</div>
		
	</form>

			
			
</section>


<script>

	/*const flecha = document.getElementById('btn-flecha').addEventListener('click',mostarDiv);
	
	function mostarDiv(){
	
	    document.getElementById('form-agregar-usuario').style.display = 'block';
	
	}*/
	
	$(document).ready( function () {
	    $('#table_id').DataTable();
	} );

	//AÑO POR DEFECTO
	let fecha = new Date();
	let anio = fecha.getFullYear();
	document.getElementById('anio-curso').value= anio;
	
	//CAMBIO VALORES INPUTS
	document.getElementById("anio-curso").addEventListener('keyup', autoCompletar);
	document.getElementById("cboxSemestre").addEventListener('change', autoCompletarSemestre);
	
	function autoCompletar(){
		
		$("#anio-curso").keyup(autoCompletar); 
		var valor = $(this).val();
		$("#anio-curso-autcomplete").val(valor);

	}
	
	function autoCompletarSemestre(){
		
		let combobox = document.getElementById("cboxSemestre");
		let opcionSeleccionada = combobox.options[combobox.selectedIndex].text;
		document.getElementById("semestre-previsualizacion").value = opcionSeleccionada;
		
	}
	
	$('#cboxSemestre option').clone().appendTo('#cboxSemestre-previsualizar');
	

	

	</script>
</body>
</html>