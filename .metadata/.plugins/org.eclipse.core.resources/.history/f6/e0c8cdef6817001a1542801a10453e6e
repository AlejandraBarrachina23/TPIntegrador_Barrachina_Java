package DAO;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import Dominio.Usuario;

public class UsuarioDAO {

	private ConexionDB nuevaConexion;
	
	public Usuario VerificarExistencia(Usuario unUsuario) throws SQLException {
		
		try {
			
			nuevaConexion = new ConexionDB();
			nuevaConexion.EstablecerConexion();
			Usuario usuarioDB = new Usuario();
			Statement st= (Statement) nuevaConexion.EstablecerConexion().createStatement();		
			ResultSet TablaResultados= st.executeQuery("SELECT * from Usuario WHERE Usuario='"+ unUsuario.getUsuario()+"' AND Contrasenia='"+ unUsuario.getContrasenia()+"'");
				
			while(TablaResultados.next()) {
				
				usuarioDB.setUsuario(TablaResultados.getString("Usuario"));
				usuarioDB.setContrasenia(TablaResultados.getString("Contrasenia"));
				usuarioDB.setTipoUsuario(TablaResultados.getString("TipoUsuario"));
				usuarioDB.setEstado(TablaResultados.getBoolean("Estado"));
				usuarioDB.setIntentosIncio(0);
				return UsuarioDB;
				
			}
			
		} catch (Exception e) {

		}
		System.out.println("false");
	

	}	
	
}
